parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"iO0b":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addCountPicChanger=exports.addNumsPicChanger=exports.addPointsPicChanger=exports.addThumbnailsPicChanger=void 0;var e=function(e){[e.getElementById("alina"),e.getElementById("vika")].forEach(function(e){for(var t=e.getElementsByClassName("imgContainer"),s=0;s<t.length;s++)t[s].addEventListener("click",function(t){var s=e.getElementsByClassName("selected");s.length>0&&s[0].classList.remove("selected"),t.target.classList.add("selected"),e.style.backgroundImage=window.getComputedStyle(t.target.getElementsByClassName("img")[0]).getPropertyValue("background-image")})})};exports.addThumbnailsPicChanger=e;var t=function(e){[e.getElementById("nora"),e.getElementById("vika2")].forEach(function(e){for(var t=e.getElementsByClassName("shown"),s=e.getElementsByClassName("clickableArea"),a=0;a<s.length;a++)s[a].addEventListener("click",function(s){var a=e.getElementsByClassName("selected");a.length>0&&a[0].classList.remove("selected"),s.target.classList.add("selected"),t[0].className="img shown selected_".concat(s.target.getAttribute("data-id"))})})};exports.addPointsPicChanger=t;var s=function(e){for(var t=e.getElementById("cadrsContainer"),s=e.getElementById("cadrNumsContainer"),a=s.getElementsByClassName("cadrNum"),n=function(e){a[e].addEventListener("click",function(a){var n=s.getElementsByClassName("chosen");n.length>0&&n[0].classList.remove("chosen"),a.target.classList.add("chosen");var l=t.getElementsByClassName("visible");l.length>0&&l[0].classList.remove("visible"),t.getElementsByClassName("cadr".concat(e+1))[0].classList.add("visible")})},l=0;l<a.length;l++)n(l)};exports.addNumsPicChanger=s;var a=function(e){for(var t=e.getElementsByClassName("cadrsContainer"),s=e.getElementsByClassName("cadrCountContainer"),a=function(e){var a=s[e].getElementsByClassName("chosen")[0],n=s[e].getElementsByClassName("amount")[0],l=parseInt(n.innerHTML,10);t[e].addEventListener("click",function(){if(a){var s=parseInt(a.innerHTML,10),n=s===l?1:s+1;a.innerHTML=n;var r=t[e].getElementsByClassName("visible");r.length>0&&r[0].classList.remove("visible"),t[e].getElementsByClassName("cadr".concat(n))[0].classList.add("visible")}},!1)},n=0;n<t.length;n++)a(n)};exports.addCountPicChanger=a;
},{}],"UJ9N":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getHTML=void 0;var e=function(e,t){if(window.XMLHttpRequest){var o=new XMLHttpRequest;o.onload=function(){t&&"function"==typeof t&&t(this.responseXML)},o.open("GET",e),o.responseType="document",o.send()}};exports.getHTML=e;
},{}],"LqmN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.lazyLoadImages=void 0;var e=function(e){var r=[].slice.call(e.querySelectorAll(".lazy"));if("IntersectionObserver"in window){var t=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&(e.target.classList.add("loaded"),e.target.classList.remove("lazy"),t.unobserve(e.target))})});r.forEach(function(e){t.observe(e)})}};exports.lazyLoadImages=e;
},{}],"W8Ss":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeMapHints=void 0;var o=require("./getHTML");function r(o,r){return i(o)||a(o,r)||t(o,r)||e()}function e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function t(o,r){if(o){if("string"==typeof o)return n(o,r);var e=Object.prototype.toString.call(o).slice(8,-1);return"Object"===e&&o.constructor&&(e=o.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?n(o,r):void 0}}function n(o,r){(null==r||r>o.length)&&(r=o.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=o[e];return t}function a(o,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(o)){var e=[],t=!0,n=!1,a=void 0;try{for(var i,m=o[Symbol.iterator]();!(t=(i=m.next()).done)&&(e.push(i.value),!r||e.length!==r);t=!0);}catch(l){n=!0,a=l}finally{try{t||null==m.return||m.return()}finally{if(n)throw a}}return e}}function i(o){if(Array.isArray(o))return o}var m={"D1 - 1st level":{room15:"Room 1 (1938-68)",room16:"Bathroom (1938-68)",room13:"WC (1938-68)",room12:"Stairs (1938-68)",room14:"Hall (1938-68)",room11:"Living room (1938-68)",room27:"Kitchen (1938-68)"},"D2 - 1st level":{room26:"Kitchen (1938-68)",room24:"Bathroom (1938-68)",room25:"WC (1938-68)",room17:"Living room (1938-68)",room22:"Stairs (1938-68)",room23:"Hall (1938-68)",room21:"Guest's room (1938-68)"},"D1 - 2nd level":{room80:"Room 29 (1966-1968)",room78:"Room 27 (1966-1968)",room79:"Corridor (1966-1968)",room74:"Room 26 (1938-1968)",room72:"Room 25 (1938-1968)",room73:"Room 24 (1938-1968)",room69:"Balcony (1938-1968)",room75:"Stairs (1938-1968)",room70:"Room 23 (1938-1968)",room71:"Room 22 (1938-1968)"},"D2 - 2nd level":{room67:"Bedroom 1 — Dau's room\n(1938-1968)",room68:"Bedroom 2 — Nora's room\n(1938-1968)",room81:"Stairs (1938-68)",room65:"Pass (1938-1968)",room66:"Brattery — Denis's room\n(1938-1968)",room02:"Balcony (1938-1968)"},"1st level":{room01:"Back gate",room18:"Main gate",room19:"Garages",room20:"Garages",room10:"Corridor of Cafe",room07:"Smoking room",room06:"Toilet (gents)",room05:"Toilet (ladies)",room03:"Café",room09:"Place for braizer",room08:"Kitchen",room35:"Big  Corridor",room37:"Stairs to Pigsty",room36:"Pigsty",room39:"Room for cleaning stuff 2",room38:"Room for cleaning staff 1",room40:"Big Laboratory",room42:'Personnel department (1938-52)\nSpecial department (1952-56)\nEditing office of a newspaper "Izvestiya Instituta" (1956-68)',room41:"Personnel department (1938-52)\nSpecial department (1952-56)\nParty nucleus (1956-68) ",room64:"Corridor of main entrance",room63:"Guard's room",room76:"Cashdesk"},"2nd level":{room59:"Theoretical department",room58:"Stairs to Special Office (1956-68)",room57:"Corridor of Special Office (1956-68)",room56:"Medical Office (1956-68)",room55:"Special Office (1956-68)",room54:"Atelier (1956-68)",room53:"Reception of hairdresser",room52:"Hairdresser",room51:"Massage place",room50:"Small Laboratory",room49:"Corridor of Small lab",room48:"Photolab",room47:"Biophysic's lab 2 (plants)",room46:"Biophysic's lab 1 (animals)",room45:"Small Corridor of Small Lab",room44:"Library",room43:"Entrance to Director's Office "},"3rd level":{room61:"Director's office",room60:"Columns pass",room62:"Roof"},"Prison - 1st level":{room33:"Investigation Office",room28:"Stairs to Prison",room34:"Prison cell 1",room32:"Corridor of prison",room29:"Prison cell 2",room30:"Prison cell 3",room31:"Prison cell 4"},"":{room04:"Cafe's porch"}},l=function(o,r){var e=o.split("\n");r&&e.unshift(r);var t=e[0].length,n=!1;e.forEach(function(o){o.length!==t&&(n=!0),o.length>t&&(t=o.length)});var a=[];return e.forEach(function(o,r){var i=document.createElement("div");i.classList.add("line");var m=document.createElement("p");if(m.innerHTML=o,i.appendChild(m),e[r-1]&&(e[r-1].length-o.length>0?i.classList.add("longerOver"):e[r-1].length-o.length<0?i.classList.add("shorterOver"):i.classList.add("equalOver")),e[r+1]&&(e[r+1].length-o.length>0?i.classList.add("longerBelow"):e[r+1].length-o.length<0?i.classList.add("shorterBelow"):i.classList.add("equalBelow")),n&&o.length!==t){var l=document.createElement("div");l.classList.add("cut"),i.classList.add("withCut"),i.appendChild(l)}a.push(i)}),a},s=function(e){var t=e.getElementById("mapContainer");(0,o.getHTML)("pages/institute/assets/inst_map.svg",function(o){var e=o.querySelector("svg");if(e){t.appendChild(e);var n=t.querySelector("svg");Object.keys(m).forEach(function(o){for(var e=function(){var e=r(i[a],2),m=e[0],s=e[1],c=n.getElementsByClassName(m)[0],d=document.createElement("div");d.classList.add("hint"),l(s,o).forEach(function(o){return d.appendChild(o)}),c.onmouseover=function(){var o=c.getBoundingClientRect();d.style.left="".concat(o.x+o.width,"px"),d.style.top="".concat(o.y+o.height,"px"),d.style.opacity=1},c.onmouseout=function(){return d.style.opacity=0},t.appendChild(d)},a=0,i=Object.entries(m[o]);a<i.length;a++)e()})}})};exports.makeMapHints=s;
},{"./getHTML":"UJ9N"}],"Focm":[function(require,module,exports) {
"use strict";var e=require("./helpers/picChange"),t=require("./helpers/getHTML"),n=require("./helpers/lazyImagesLoader"),i=require("./helpers/mapHintsMaker");function a(e,t){return d(e)||r(e,t)||c(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function r(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,a=!1,s=void 0;try{for(var c,o=e[Symbol.iterator]();!(i=(c=o.next()).done)&&(n.push(c.value),!t||n.length!==t);i=!0);}catch(r){a=!0,s=r}finally{try{i||null==o.return||o.return()}finally{if(a)throw s}}return n}}function d(e){if(Array.isArray(e))return e}var l=["main","institute","participants","digital"],m={main:"DAU",institute:"The Institute",participants:"Participants",digital:"DAU&nbsp;&nbsp;&nbsp;DIGITAL&nbsp;&nbsp;(coming soon)"},u={main:"pages/main/main.html",digital:"/",participants:"pages/participants/index.html",institute:"pages/institute/index.html"},f={main:"pages/main/main.html",digital:"",participants:"pages/participants/participants.html",institute:"pages/institute/institute.html"};document.addEventListener("DOMContentLoaded",function(s){if(!s.target.defaultView.frameElement){var c=function(){return/#(.+)/.test(window.location.href)?/#(.+)/.exec(window.location.href)[1]:"main"},o=/#(.+)/.test(window.location.href)?/#(.+)/.exec(window.location.href)[1]:"",r={},d={},h=document.getElementById("linksBar"),v=document.getElementById("burger"),w=v.getElementsByClassName("closer")[0],L=h.getElementsByClassName("sharing")[0],p=function(){return Object.keys(r).forEach(function(e){return r[e].classList.remove("visible")})},b=function e(){v.removeEventListener("click",e),Object.entries(d).forEach(function(e){return a(e,2)[1].classList.remove("visible","clickable","chosen")}),h.classList.remove("folded"),h.classList.add("expanded"),p(),setTimeout(function(){Object.entries(d).forEach(function(e){return a(e,2)[1].classList.add("visible","clickable")}),L.classList.add("visible","clickable"),v.classList.add("closeable"),w.addEventListener("click",g)},1e3)},g=function e(){h.classList.remove("expanded"),h.classList.add("above","folded"),Object.entries(d).forEach(function(e){return a(e,2)[1].classList.remove("visible","clickable")}),L.classList.remove("visible","clickable"),w.removeEventListener("click",e),v.classList.remove("closeable");var t=c();r[t].classList.add("visible","withTransition"),setTimeout(function(){d[t].classList.add("chosen","visible"),v.classList.add("clickable"),v.addEventListener("click",b)},1e3)},y=function(e,t){window.history.pushState(e,e,"main"===e?" ":"#".concat(e)),p();var n=r[t],i=r[e];if(i.classList.add("visible","withTransition"),Object.keys(r).forEach(function(e){return r[e].classList.remove("when_main","when_institute","when_participants")}),Object.keys(r).forEach(function(e){return r[e].classList.add("when_".concat(c()))}),t&&n.classList.add("withTransition"),g(),v.classList.add("clicked"),"main"===e){r.main.contentWindow.document.getElementById("linesContainer").classList.add("shown");var a=r.main.contentWindow.document.getElementById("lines");a.style.width="",a.style.height=""}setTimeout(function(){Object.keys(d).forEach(function(t){t===e?d[t].classList.add("chosen","visible"):d[t].classList.add("clickable")}),h.classList.remove("above"),v.classList.add("clickable"),v.addEventListener("click",b),Object.keys(r).forEach(function(e){return r[e].classList.remove("withTransition")}),t&&"main"===t&&r.main.contentWindow.document.getElementById("linesContainer").classList.remove("shown","withTransition"),t&&r.main.contentWindow.document.tl.progress(1,!1)},600),t&&"main"===t&&r.main.contentWindow.document.getElementById("linesContainer").classList.remove("withTransition"),i.classList.contains("loaded")||E(e)},E=function(a){var s=r[a],c=s.contentWindow.document.getElementsByClassName("screensaver")[0];c&&c.classList.add("animated");var o="";(0,t.getHTML)(f[a],function(t){if(o=t.getElementById("scrollContainer")){var c=s.contentWindow.document.getElementsByTagName("body")[0];if(c.appendChild(o),c.classList.add("loaded"),s.classList.add("loaded"),"participants"===a){var r=sessionStorage.getItem("scroll_participants");(0,e.addThumbnailsPicChanger)(s.contentWindow.document),(0,e.addPointsPicChanger)(s.contentWindow.document),(0,n.lazyLoadImages)(s.contentWindow.document),r&&(s.contentWindow.document.documentElement.scrollLeft=parseInt(r,0),s.contentWindow.document.body.scrollLeft=parseInt(r,0))}else if("institute"===a){var d=sessionStorage.getItem("scroll_institute");d&&(s.contentWindow.document.documentElement.scrollLeft=parseInt(d,0),s.contentWindow.document.body.scrollLeft=parseInt(d,0)),(0,e.addNumsPicChanger)(s.contentWindow.document),(0,i.makeMapHints)(s.contentWindow.document),(0,n.lazyLoadImages)(s.contentWindow.document)}}})},k=["main","participants","institute"];k.forEach(function(e){var t=document.createElement("iframe");t.classList.add(e),t.style.width="100%",t.style.height="100%",document.body.appendChild(t),r[e]=t,t.src=u[e],""===o&&"main"===e?t.classList.add("visible"):o===e&&(p(),setTimeout(function(){y(e,null),t.classList.add("loaded","visible")},300))}),l.forEach(function(e){var t=document.createElement("span");t.classList.add("link",e),t.innerHTML=m[e],document.getElementById("linksBar").appendChild(t),d[e]=t,k.includes(e)?t.addEventListener("click",function(){var t=c();y(e,t)}):t.classList.add("disabled")});var I=document.createElement("a");I.innerHTML="ONLINE CINEMA",I.href="./cinema",I.addEventListener("click",function(e){e.stopPropagation(),window.location.href="./cinema"}),d.main.appendChild(I),""===o?r.main.onload=function(){v&&v.classList.add("shown"),Object.entries(d).forEach(function(e){var t=a(e,2),n=t[0],i=t[1];return"main"!==n&&i.classList.add("visible","clickable")}),L.classList.add("visible","clickable"),r.main.contentWindow.document.getElementById("linesContainer").classList.add("shown");var e=r.main.contentWindow.document.getElementById("watch_now_en");e.setAttribute("href","../../cinema"),e.addEventListener("click",function(){return window.location.href+="cinema"});var t=r.main.contentWindow.document.getElementById("watch_now_ru");t.setAttribute("href","../../cinema"),t.addEventListener("click",function(){return window.location.href+="cinema"}),setTimeout(function(){r.main.contentWindow.document.getElementById("linesContainer").classList.remove("withTransition")},850)}:(document.getElementById("linksBar").classList.add("folded"),v&&v.classList.add("clicked"),setTimeout(function(){v.classList.add("shown","clickable"),v.addEventListener("click",b),d[o].classList.add("visible","chosen"),d.main.classList.add("clickable");var e=r.main.contentWindow.document.getElementById("watch_now_en");e.setAttribute("href","../../cinema"),e.addEventListener("click",function(){return window.location.href+="cinema"});var t=r.main.contentWindow.document.getElementById("watch_now_ru");t.setAttribute("href","../../cinema"),t.addEventListener("click",function(){return window.location.href+="cinema"})},1e3))}},!0);
},{"./helpers/picChange":"iO0b","./helpers/getHTML":"UJ9N","./helpers/lazyImagesLoader":"LqmN","./helpers/mapHintsMaker":"W8Ss"}]},{},["Focm"], null)
//# sourceMappingURL=dau.cb59cda6.js.map